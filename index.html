<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flow - Trouvez le site parfait pour vos besoins</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #6a11cb;
            --secondary: #2575fc;
            --accent: #00c9ff;
            --dark: #121212;
            --light: #f8f9fa;
            --gray: #6c757d;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --card-bg: rgba(255, 255, 255, 0.1);
            --glass-bg: rgba(255, 255, 255, 0.05);
            --border-radius: 16px;
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, var(--dark), #1a1a2e);
            color: var(--light);
            min-height: 100vh;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }

        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 10% 20%, rgba(106, 17, 203, 0.1) 0%, rgba(37, 117, 252, 0.05) 100%);
            z-index: -1;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 20px;
            border-bottom: 1px solid var(--glass-bg);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 28px;
            font-weight: 700;
            background: linear-gradient(to right, var(--accent), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 15px rgba(0, 201, 255, 0.3);
        }

        .logo i {
            font-size: 32px;
        }

        .nav-categories {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 15px 0;
        }

        .category-btn {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--light);
            padding: 8px 15px;
            border-radius: 30px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 14px;
        }

        .category-btn:hover, .category-btn.active {
            background: linear-gradient(to right, var(--primary), var(--secondary));
        }

        .search-container {
            max-width: 800px;
            margin: 0 auto 30px;
            position: relative;
        }

        .search-box {
            display: flex;
            background: var(--card-bg);
            border-radius: 50px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            box-shadow: var(--shadow);
        }

        .search-box input {
            flex: 1;
            padding: 18px 25px;
            font-size: 18px;
            background: transparent;
            border: none;
            color: var(--light);
            outline: none;
        }

        .search-box input::placeholder {
            color: rgba(255, 255, 255, 0.5);
        }

        .search-box button {
            padding: 0 30px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
            transition: var(--transition);
        }

        .search-box button:hover {
            background: linear-gradient(to right, var(--secondary), var(--accent));
        }

        .container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 25px;
            max-width: 1600px;
            margin: 0 auto;
        }

        .results-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .section-title {
            font-size: 22px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: var(--accent);
        }

        .site-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: var(--transition);
            box-shadow: var(--shadow);
        }

        .site-card:hover {
            transform: translateY(-5px);
            border-color: rgba(0, 201, 255, 0.3);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);
        }

        .site-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .site-logo {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            background-size: cover;
            background-position: center;
        }

        .site-info {
            flex: 1;
        }

        .site-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .site-name .badge {
            background: var(--success);
            color: white;
            font-size: 12px;
            padding: 2px 8px;
            border-radius: 20px;
        }

        .site-category {
            background: rgba(0, 201, 255, 0.1);
            color: var(--accent);
            font-size: 12px;
            padding: 2px 8px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 3px;
        }

        .site-url {
            color: var(--accent);
            font-size: 14px;
            display: block;
            margin-bottom: 5px;
        }

        .site-description {
            font-size: 15px;
            line-height: 1.5;
            margin-bottom: 15px;
            color: rgba(255, 255, 255, 0.8);
        }

        .pros-cons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .pros, .cons {
            padding: 15px;
            border-radius: var(--border-radius);
        }

        .pros {
            background: rgba(40, 167, 69, 0.1);
            border: 1px solid rgba(40, 167, 69, 0.2);
        }

        .cons {
            background: rgba(220, 53, 69, 0.1);
            border: 1px solid rgba(220, 53, 69, 0.2);
        }

        .pros h4, .cons h4 {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
        }

        .pros h4 i {
            color: var(--success);
        }

        .cons h4 i {
            color: var(--danger);
        }

        .pros ul, .cons ul {
            padding-left: 20px;
        }

        .pros li, .cons li {
            margin-bottom: 5px;
            font-size: 14px;
        }

        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .rating {
            color: var(--warning);
        }

        .details-btn {
            background: rgba(0, 201, 255, 0.1);
            color: var(--accent);
            border: 1px solid rgba(0, 201, 255, 0.3);
            padding: 8px 15px;
            border-radius: 30px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .details-btn:hover {
            background: rgba(0, 201, 255, 0.2);
        }

        .share-btn {
            background: rgba(106, 17, 203, 0.1);
            color: #b57aff;
            border: 1px solid rgba(106, 17, 203, 0.3);
            padding: 8px 15px;
            border-radius: 30px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .share-btn:hover {
            background: rgba(106, 17, 203, 0.2);
        }

        .tips-container {
            grid-column: 1 / -1;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-top: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            box-shadow: var(--shadow);
        }

        .tips-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 15px;
        }

        .tip-card {
            background: var(--glass-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: var(--transition);
        }

        .tip-card:hover {
            transform: translateY(-3px);
            border-color: rgba(0, 201, 255, 0.3);
        }

        .tip-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .tip-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .tip-title {
            font-size: 18px;
            font-weight: 600;
        }

        .tip-content {
            font-size: 14px;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.8);
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 30px 0;
        }

        .page-btn {
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--light);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .page-btn.active, .page-btn:hover {
            background: linear-gradient(to right, var(--primary), var(--secondary));
        }

        .detail-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: var(--transition);
        }

        .detail-modal.active {
            opacity: 1;
            pointer-events: all;
        }

        .detail-content {
            background: var(--dark);
            border-radius: var(--border-radius);
            padding: 30px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .detail-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .detail-header h2 {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .close-modal {
            background: var(--danger);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        .site-details {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .site-meta {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .site-meta-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .site-meta-item i {
            color: var(--accent);
            width: 20px;
            text-align: center;
        }

        .reliability {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 10px;
        }

        .reliability i {
            color: var(--success);
        }

        .add-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: var(--transition);
        }

        .add-modal.active {
            opacity: 1;
            pointer-events: all;
        }

        .add-content {
            background: var(--dark);
            border-radius: var(--border-radius);
            padding: 30px;
            width: 90%;
            max-width: 700px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .add-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .add-form .form-group {
            margin-bottom: 20px;
        }

        .add-form label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .add-form input,
        .add-form textarea,
        .add-form select {
            width: 100%;
            padding: 12px;
            background: var(--card-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            color: var(--light);
            font-size: 16px;
        }

        .add-form textarea {
            min-height: 100px;
            resize: vertical;
        }

        #submit-site {
            background: linear-gradient(to right, var(--success), #20c997);
            color: white;
            border: none;
            padding: 15px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
            font-size: 18px;
            margin-top: 10px;
        }

        .add-site-btn {
            background: linear-gradient(to right, var(--success), #20c997);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .add-site-btn:hover {
            background: linear-gradient(to right, #20c997, var(--success));
        }

        .stats-container {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        .stat-item {
            text-align: center;
            background: var(--glass-bg);
            padding: 15px;
            border-radius: var(--border-radius);
            flex: 1;
            margin: 0 10px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
            background: linear-gradient(to right, var(--accent), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .stat-label {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.7);
        }

        @media (max-width: 1200px) {
            .container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            header {
                flex-direction: column;
                gap: 15px;
            }
            
            .pros-cons {
                grid-template-columns: 1fr;
            }
            
            .site-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .card-footer {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .stats-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .stat-item {
                margin: 5px 0;
            }
            
            .site-details {
                grid-template-columns: 1fr;
            }
        }

        /* Animation pour le texte */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .site-card {
            animation: fadeIn 0.5s ease-out forwards;
            opacity: 0;
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <i class="fas fa-wave-square"></i>
            <span>Flow</span>
        </div>
        <div class="search-container">
            <div class="search-box">
                <input type="text" id="search-input" placeholder="Rechercher un site (ex: enlever arrière plan GIF, VPN gratuit...)">
                <button id="search-btn"><i class="fas fa-search"></i> Rechercher</button>
            </div>
        </div>
        <button class="add-site-btn" id="add-site-btn">
            <i class="fas fa-plus"></i> Ajouter un site
        </button>
    </header>
    
    <div class="nav-categories" id="categories-container">
        <!-- Les catégories seront générées dynamiquement ici -->
    </div>
    
    <div class="stats-container">
        <div class="stat-item">
            <div class="stat-value" id="total-sites">425+</div>
            <div class="stat-label">Sites référencés</div>
        </div>
        <div class="stat-item">
            <div class="stat-value">12</div>
            <div class="stat-label">Catégories</div>
        </div>
        <div class="stat-item">
            <div class="stat-value" id="total-reviews">1,250+</div>
            <div class="stat-label">Avis utilisateurs</div>
        </div>
    </div>
    
    <div class="container">
        <div class="results-container">
            <h2 class="section-title"><i class="fas fa-star"></i> Meilleurs résultats</h2>
            <div id="results-list">
                <!-- Les résultats seront générés dynamiquement ici -->
            </div>
            
            <div class="pagination" id="pagination-container">
                <!-- La pagination sera générée dynamiquement ici -->
            </div>
            
            <h2 class="section-title"><i class="fas fa-lightbulb"></i> Conseils pratiques</h2>
            <div class="tips-container">
                <div class="tips-grid">
                    <div class="tip-card">
                        <div class="tip-header">
                            <div class="tip-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="tip-title">VPN Gratuits</div>
                        </div>
                        <div class="tip-content">
                            <p><strong>ProtonVPN</strong> - Offre gratuite avec serveurs dans 3 pays, sans limitation de durée</p>
                            <p><strong>Windscribe</strong> - 10 Go gratuits par mois, nombreux serveurs disponibles</p>
                        </div>
                    </div>
                    
                    <div class="tip-card">
                        <div class="tip-header">
                            <div class="tip-icon">
                                <i class="fas fa-film"></i>
                            </div>
                            <div class="tip-title">Streaming</div>
                        </div>
                        <div class="tip-content">
                            <p>Pour accéder à du contenu géo-restreint, utilisez un VPN basé dans le pays concerné.</p>
                            <p><strong>Attention:</strong> Le streaming illégal peut avoir des conséquences juridiques.</p>
                        </div>
                    </div>
                    
                    <div class="tip-card">
                        <div class="tip-header">
                            <div class="tip-icon">
                                <i class="fas fa-lock"></i>
                            </div>
                            <div class="tip-title">Sécurité</div>
                        </div>
                        <div class="tip-content">
                            <p>Toujours vérifier la sécurité d'un site (HTTPS, réputation) avant de télécharger des fichiers.</p>
                            <p>Utilisez un antivirus à jour et un bloqueur de publicités comme uBlock Origin.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Modal pour les détails du site -->
    <div class="detail-modal" id="detail-modal">
        <div class="detail-content">
            <div class="detail-header">
                <h2><i class="fas fa-info-circle"></i> Détails du site</h2>
                <div class="close-modal" id="close-detail-modal">
                    <i class="fas fa-times"></i>
                </div>
            </div>
            <div id="detail-content">
                <!-- Le contenu sera généré dynamiquement ici -->
            </div>
        </div>
    </div>
    
    <!-- Modal pour ajouter un site -->
    <div class="add-modal" id="add-modal">
        <div class="add-content">
            <div class="add-header">
                <h2><i class="fas fa-plus-circle"></i> Ajouter un site</h2>
                <div class="close-modal" id="close-add-modal">
                    <i class="fas fa-times"></i>
                </div>
            </div>
            <div class="add-form">
                <div class="form-group">
                    <label for="site-name">Nom du site*</label>
                    <input type="text" id="site-name" placeholder="Ex: Google" required>
                </div>
                <div class="form-group">
                    <label for="site-url">URL*</label>
                    <input type="url" id="site-url" placeholder="https://www.example.com" required>
                </div>
                <div class="form-group">
                    <label for="site-logo">Logo (URL de l'image)</label>
                    <input type="url" id="site-logo" placeholder="https://www.example.com/logo.png">
                </div>
                <div class="form-group">
                    <label for="site-category">Catégorie*</label>
                    <select id="site-category" required>
                        <option value="">Choisir une catégorie</option>
                        <!-- Les options seront générées dynamiquement -->
                    </select>
                </div>
                <div class="form-group">
                    <label for="site-description">Description*</label>
                    <textarea id="site-description" placeholder="Description du site..." required></textarea>
                </div>
                <div class="form-group">
                    <label for="site-advantages">Avantages* (un par ligne)</label>
                    <textarea id="site-advantages" placeholder="Avantage 1\nAvantage 2" required></textarea>
                </div>
                <div class="form-group">
                    <label for="site-disadvantages">Inconvénients* (un par ligne)</label>
                    <textarea id="site-disadvantages" placeholder="Inconvénient 1\nInconvénient 2" required></textarea>
                </div>
                <div class="form-group">
                    <label>Note*</label>
                    <div class="rating" id="add-rating">
                        <i class="far fa-star" data-rating="1"></i>
                        <i class="far fa-star" data-rating="2"></i>
                        <i class="far fa-star" data-rating="3"></i>
                        <i class="far fa-star" data-rating="4"></i>
                        <i class="far fa-star" data-rating="5"></i>
                    </div>
                </div>
                <button id="submit-site"><i class="fas fa-paper-plane"></i> Ajouter le site</button>
            </div>
        </div>
    </div>
    
    <script>
        // Catégories de sites
        const categories = [
            "Tous les sites", "Outils", "VPN", "Streaming", "Design", "Productivité", 
            "Éducation", "Santé", "E-commerce", "Réseaux sociaux", "Finance", "Développement"
        ];
        
        // Récupérer les sites du localStorage ou utiliser les données initiales
        let sitesData = JSON.parse(localStorage.getItem('sitesData'));
        if (!sitesData) {
            // Données initiales si le localStorage est vide
            sitesData = [
                {
                    id: 1,
                    name: "Remove.bg",
                    url: "https://www.remove.bg",
                    logo: "https://www.remove.bg/favicon-32x32.png",
                    category: "Outils",
                    description: "Enlève l'arrière-plan des images et GIFs automatiquement grâce à l'IA.",
                    advantages: ["Rapide et efficace", "Gratuit pour les images basse résolution", "API disponible"],
                    disadvantages: ["Limite de taille pour la version gratuite", "Résolution réduite en gratuit"],
                    rating: 4.8,
                    reliability: 5,
                    userReviews: [
                        { name: "Marie L.", rating: 5, text: "Incroyablement précis même sur des photos complexes !" },
                        { name: "Thomas P.", rating: 4, text: "Très utile pour mes projets de design, mais la version gratuite est limitée." }
                    ]
                },
                {
                    id: 2,
                    name: "EZGIF",
                    url: "https://ezgif.com",
                    logo: "https://ezgif.com/images/favicon.png",
                    category: "Outils",
                    description: "Suite complète d'outils pour manipuler les GIFs : rognage, redimensionnement, optimisation, etc.",
                    advantages: ["Complet et gratuit", "Interface simple", "Pas d'inscription nécessaire"],
                    disadvantages: ["Design un peu daté", "Limite de 100 Mo par fichier"],
                    rating: 4.5,
                    reliability: 4,
                    userReviews: []
                },
                {
                    id: 3,
                    name: "TinyPNG",
                    url: "https://tinypng.com",
                    logo: "https://tinypng.com/images/favicon.ico",
                    category: "Outils",
                    description: "Compresseur d'images intelligent qui réduit la taille des fichiers sans perte de qualité visible.",
                    advantages: ["Réduction de taille impressionnante", "Conservation de la qualité", "API disponible"],
                    disadvantages: ["Limite de 20 images par session", "Pas de traitement par lots en gratuit"],
                    rating: 4.7,
                    reliability: 5,
                    userReviews: []
                },
                {
                    id: 4,
                    name: "Canva",
                    url: "https://www.canva.com",
                    logo: "https://static.canva.com/static/images/android-192x192-2.png",
                    category: "Outils",
                    description: "Outil de design graphique en ligne avec des milliers de templates pour tous vos besoins créatifs.",
                    advantages: ["Interface intuitive", "Bibliothèque de ressources énorme", "Version gratuite complète"],
                    disadvantages: ["Fonctionnalités avancées payantes", "Nécessite une connexion internet"],
                    rating: 4.9,
                    reliability: 5,
                    userReviews: []
                },
                {
                    id: 5,
                    name: "Grammarly",
                    url: "https://www.grammarly.com",
                    logo: "https://static.grammarly.com/assets/files/cb6ce17d281d15f2c819035bcd430b0e/favicon-32x32.png",
                    category: "Outils",
                    description: "Assistant d'écriture IA qui corrige la grammaire, l'orthographe et le style de vos textes.",
                    advantages: ["Corrections précises", "Intégrations multiples", "Explications pédagogiques"],
                    disadvantages: ["Version française moins complète", "Premium nécessaire pour les suggestions avancées"],
                    rating: 4.6,
                    reliability: 4,
                    userReviews: []
                },
                {
                    id: 6,
                    name: "ProtonVPN",
                    url: "https://protonvpn.com",
                    logo: "https://protonvpn.com/favicons/apple-touch-icon.png",
                    category: "VPN",
                    description: "Service VPN sécurisé avec une version gratuite et des serveurs dans plusieurs pays.",
                    advantages: ["Gratuit sans limitation de durée", "Sécurité de niveau militaire", "Basé en Suisse (juridiction favorable)"],
                    disadvantages: ["Vitesse limitée en gratuit", "Seulement 3 pays disponibles"],
                    rating: 4.9,
                    reliability: 5,
                    userReviews: []
                },
                {
                    id: 7,
                    name: "Windscribe",
                    url: "https://windscribe.com",
                    logo: "https://windscribe.com/favicon.ico",
                    category: "VPN",
                    description: "VPN avec 10 Go de données gratuites par mois et des fonctionnalités de blocage de publicités.",
                    advantages: ["Généreuse offre gratuite", "Bloqueur de pubs intégré", "Nombreux serveurs"],
                    disadvantages: ["Configuration manuelle nécessaire pour certaines fonctionnalités", "Interface un peu complexe"],
                    rating: 4.4,
                    reliability: 4,
                    userReviews: []
                },
                {
                    id: 8,
                    name: "ExpressVPN",
                    url: "https://www.expressvpn.com",
                    logo: "https://www.expressvpn.com/favicon.ico",
                    category: "VPN",
                    description: "L'un des VPN les plus rapides et fiables du marché avec des serveurs dans 94 pays.",
                    advantages: ["Vitesse exceptionnelle", "Très grande couverture géographique", "Support client 24/7"],
                    disadvantages: ["Prix élevé", "Pas de version gratuite"],
                    rating: 4.8,
                    reliability: 5,
                    userReviews: []
                },
                {
                    id: 9,
                    name: "Netflix",
                    url: "https://www.netflix.com",
                    logo: "https://assets.nflxext.com/us/ffe/siteui/common/icons/nficon2016.ico",
                    category: "Streaming",
                    description: "Plateforme de streaming leader avec une vaste bibliothèque de films, séries et documentaires.",
                    advantages: ["Contenu exclusif de qualité", "Interface intuitive", "Téléchargement pour visionnage hors ligne"],
                    disadvantages: ["Prix en augmentation", "Contenu variable selon les régions"],
                    rating: 4.7,
                    reliability: 5,
                    userReviews: []
                },
                {
                    id: 10,
                    name: "Disney+",
                    url: "https://www.disneyplus.com",
                    logo: "https://static-assets.bamgrid.com/product/disneyplus/favicons/favicon.ico",
                    category: "Streaming",
                    description: "Plateforme dédiée aux contenus Disney, Pixar, Marvel, Star Wars et National Geographic.",
                    advantages: ["Contenu exclusif", "Prix compétitif", "4 écrans simultanés"],
                    disadvantages: ["Bibliothèque plus limitée que Netflix", "Interface moins personnalisable"],
                    rating: 4.6,
                    reliability: 5,
                    userReviews: []
                }
            ];
        }

        // Variables globales
        let currentPage = 1;
        const sitesPerPage = 10;
        let currentCategory = "Tous les sites";
        let currentSearch = "";

        // Fonction pour sauvegarder les sites dans le localStorage
        function saveSitesData() {
            localStorage.setItem('sitesData', JSON.stringify(sitesData));
            updateStats();
        }

        // Fonction pour mettre à jour les statistiques
        function updateStats() {
            document.getElementById('total-sites').textContent = sitesData.length;
            
            let totalReviews = 0;
            sitesData.forEach(site => {
                totalReviews += site.userReviews.length;
            });
            document.getElementById('total-reviews').textContent = totalReviews;
        }

        // Fonction pour afficher les catégories
        function displayCategories() {
            const container = document.getElementById('categories-container');
            container.innerHTML = '';
            
            categories.forEach(category => {
                const btn = document.createElement('button');
                btn.className = 'category-btn';
                if (category === currentCategory) {
                    btn.classList.add('active');
                }
                btn.textContent = category;
                btn.addEventListener('click', () => {
                    currentCategory = category;
                    currentPage = 1;
                    displayCategories();
                    displayResults();
                    displayPagination();
                });
                container.appendChild(btn);
            });
        }

        // Fonction pour afficher les résultats
        function displayResults() {
            const resultsList = document.getElementById('results-list');
            resultsList.innerHTML = '';
            
            // Filtrer les sites par catégorie et recherche
            const filteredSites = sitesData.filter(site => {
                const matchesCategory = currentCategory === "Tous les sites" || site.category === currentCategory;
                const matchesSearch = site.name.toLowerCase().includes(currentSearch) || 
                                      site.description.toLowerCase().includes(currentSearch) ||
                                      site.category.toLowerCase().includes(currentSearch);
                return matchesCategory && matchesSearch;
            });
            
            // Calculer les sites à afficher pour la page courante
            const startIndex = (currentPage - 1) * sitesPerPage;
            const endIndex = Math.min(startIndex + sitesPerPage, filteredSites.length);
            const sitesToShow = filteredSites.slice(startIndex, endIndex);
            
            // Afficher un message si aucun résultat
            if (sitesToShow.length === 0) {
                resultsList.innerHTML = '<div class="site-card"><p>Aucun site trouvé pour votre recherche. Essayez d\'autres termes ou catégories.</p></div>';
                return;
            }
            
            // Générer les cartes de site
            sitesToShow.forEach((site, index) => {
                const card = document.createElement('div');
                card.className = 'site-card';
                
                // Générer les étoiles de notation
                const stars = Array(Math.floor(site.rating)).fill('<i class="fas fa-star"></i>').join('');
                const halfStar = (site.rating % 1 >= 0.5) ? '<i class="fas fa-star-half-alt"></i>' : '';
                const emptyStars = Array(5 - Math.ceil(site.rating)).fill('<i class="far fa-star"></i>').join('');
                
                card.innerHTML = `
                    <div class="site-header">
                        <div class="site-logo" style="background-image: url('${site.logo || 'https://via.placeholder.com/50'}')"></div>
                        <div class="site-info">
                            <div class="site-name">
                                ${site.name}
                                <span class="badge">Top ${startIndex + index + 1}</span>
                            </div>
                            <span class="site-category">${site.category}</span>
                            <a href="${site.url}" target="_blank" class="site-url">${site.url}</a>
                        </div>
                    </div>
                    <p class="site-description">${site.description}</p>
                    <div class="pros-cons">
                        <div class="pros">
                            <h4><i class="fas fa-check-circle"></i> Avantages</h4>
                            <ul>
                                ${site.advantages.map(adv => `<li>${adv}</li>`).join('')}
                            </ul>
                        </div>
                        <div class="cons">
                            <h4><i class="fas fa-times-circle"></i> Inconvénients</h4>
                            <ul>
                                ${site.disadvantages.map(dis => `<li>${dis}</li>`).join('')}
                            </ul>
                        </div>
                    </div>
                    <div class="card-footer">
                        <div class="rating">
                            ${stars}${halfStar}${emptyStars}
                            <span> (${site.rating})</span>
                        </div>
                        <div>
                            <button class="details-btn" data-id="${site.id}">
                                <i class="fas fa-info-circle"></i> Détails
                            </button>
                            <button class="share-btn" data-url="${site.url}" data-name="${site.name}">
                                <i class="fas fa-share-alt"></i> Partager
                            </button>
                        </div>
                    </div>
                `;
                
                resultsList.appendChild(card);
            });
            
            // Ajouter les événements de détails
            document.querySelectorAll('.details-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const siteId = parseInt(this.getAttribute('data-id'));
                    showSiteDetails(siteId);
                });
            });
            
            // Ajouter les événements de partage
            document.querySelectorAll('.share-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const url = this.getAttribute('data-url');
                    const name = this.getAttribute('data-name');
                    shareSite(url, name);
                });
            });
        }

        // Fonction pour afficher la pagination
        function displayPagination() {
            const container = document.getElementById('pagination-container');
            container.innerHTML = '';
            
            // Filtrer les sites par catégorie et recherche
            const filteredSites = sitesData.filter(site => {
                const matchesCategory = currentCategory === "Tous les sites" || site.category === currentCategory;
                const matchesSearch = site.name.toLowerCase().includes(currentSearch) || 
                                      site.description.toLowerCase().includes(currentSearch) ||
                                      site.category.toLowerCase().includes(currentSearch);
                return matchesCategory && matchesSearch;
            });
            
            const totalPages = Math.ceil(filteredSites.length / sitesPerPage);
            
            if (totalPages <= 1) return;
            
            // Bouton précédent
            const prevBtn = document.createElement('button');
            prevBtn.className = 'page-btn';
            prevBtn.innerHTML = '<i class="fas fa-chevron-left"></i>';
            prevBtn.addEventListener('click', () => {
                if (currentPage > 1) {
                    currentPage--;
                    displayResults();
                    displayPagination();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            });
            container.appendChild(prevBtn);
            
            // Pages numérotées
            for (let i = 1; i <= totalPages; i++) {
                const pageBtn = document.createElement('button');
                pageBtn.className = 'page-btn';
                if (i === currentPage) {
                    pageBtn.classList.add('active');
                }
                pageBtn.textContent = i;
                pageBtn.addEventListener('click', () => {
                    currentPage = i;
                    displayResults();
                    displayPagination();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
                container.appendChild(pageBtn);
            }
            
            // Bouton suivant
            const nextBtn = document.createElement('button');
            nextBtn.className = 'page-btn';
            nextBtn.innerHTML = '<i class="fas fa-chevron-right"></i>';
            nextBtn.addEventListener('click', () => {
                if (currentPage < totalPages) {
                    currentPage++;
                    displayResults();
                    displayPagination();
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                }
            });
            container.appendChild(nextBtn);
        }

        // Fonction pour afficher les détails d'un site
        function showSiteDetails(siteId) {
            const modal = document.getElementById('detail-modal');
            const content = document.getElementById('detail-content');
            
            // Trouver le site
            const site = sitesData.find(s => s.id === siteId);
            if (!site) return;
            
            // Générer les étoiles de notation
            const stars = Array(Math.floor(site.rating)).fill('<i class="fas fa-star"></i>').join('');
            const halfStar = (site.rating % 1 >= 0.5) ? '<i class="fas fa-star-half-alt"></i>' : '';
            const emptyStars = Array(5 - Math.ceil(site.rating)).fill('<i class="far fa-star"></i>').join('');
            
            // Générer les étoiles de fiabilité
            const reliabilityStars = Array(site.reliability || 5).fill('<i class="fas fa-shield-alt"></i>').join('');
            
            // Générer le contenu
            content.innerHTML = `
                <div class="site-details">
                    <div class="site-meta">
                        <div class="site-logo" style="background-image: url('${site.logo || 'https://via.placeholder.com/150'}'); width: 150px; height: 150px;"></div>
                        <div class="site-meta-item">
                            <i class="fas fa-globe"></i>
                            <a href="${site.url}" target="_blank">${site.url}</a>
                        </div>
                        <div class="site-meta-item">
                            <i class="fas fa-tag"></i>
                            <span>${site.category}</span>
                        </div>
                        <div class="site-meta-item">
                            <i class="fas fa-star"></i>
                            <span>Note: ${site.rating}/5</span>
                        </div>
                        <div class="site-meta-item">
                            <i class="fas fa-shield-alt"></i>
                            <span>Fiabilité: </span>
                            <div class="reliability">${reliabilityStars}</div>
                        </div>
                    </div>
                    <div>
                        <h3>Description</h3>
                        <p>${site.description}</p>
                        
                        <h3>Avantages</h3>
                        <ul>
                            ${site.advantages.map(adv => `<li>${adv}</li>`).join('')}
                        </ul>
                        
                        <h3>Inconvénients</h3>
                        <ul>
                            ${site.disadvantages.map(dis => `<li>${dis}</li>`).join('')}
                        </ul>
                        
                        <h3>Avis utilisateurs (${site.userReviews.length})</h3>
                        <div class="reviews-list">
                            ${site.userReviews.length > 0 ? 
                                site.userReviews.map(review => `
                                    <div class="review-item">
                                        <div class="review-author">${review.name}</div>
                                        <div class="review-rating">
                                            ${Array(review.rating).fill('<i class="fas fa-star"></i>').join('')}
                                            ${Array(5 - review.rating).fill('<i class="far fa-star"></i>').join('')}
                                        </div>
                                        <div class="review-text">${review.text}</div>
                                    </div>
                                `).join('') : 
                                '<p>Aucun avis pour le moment.</p>'}
                        </div>
                    </div>
                </div>
            `;
            
            // Ouvrir le modal
            modal.classList.add('active');
        }

        // Fonction pour partager un site
        function shareSite(url, name) {
            if (navigator.share) {
                navigator.share({
                    title: `Découvrez ${name} sur Flow`,
                    text: `Je vous recommande ce site trouvé sur Flow : ${name}`,
                    url: url
                }).catch(err => {
                    console.log('Erreur de partage:', err);
                    copyToClipboard(url);
                });
            } else {
                copyToClipboard(url);
            }
        }

        // Fonction pour copier dans le presse-papier
        function copyToClipboard(text) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            alert('Lien copié dans le presse-papier !');
        }

        // Fonction pour afficher le formulaire d'ajout de site
        function showAddSiteModal() {
            const modal = document.getElementById('add-modal');
            const categorySelect = document.getElementById('site-category');
            
            // Remplir les catégories
            categorySelect.innerHTML = '<option value="">Choisir une catégorie</option>';
            categories.slice(1).forEach(category => {
                const option = document.createElement('option');
                option.value = category;
                option.textContent = category;
                categorySelect.appendChild(option);
            });
            
            // Réinitialiser les étoiles
            const ratingStars = document.querySelectorAll('#add-rating .far, #add-rating .fas');
            ratingStars.forEach(star => {
                star.className = 'far fa-star';
            });
            
            // Ouvrir le modal
            modal.classList.add('active');
        }

        // Fonction pour ajouter un nouveau site
        function addNewSite() {
            const name = document.getElementById('site-name').value.trim();
            const url = document.getElementById('site-url').value.trim();
            const logo = document.getElementById('site-logo').value.trim();
            const category = document.getElementById('site-category').value;
            const description = document.getElementById('site-description').value.trim();
            const advantages = document.getElementById('site-advantages').value.split('\n').filter(line => line.trim() !== '');
            const disadvantages = document.getElementById('site-disadvantages').value.split('\n').filter(line => line.trim() !== '');
            
            // Compter les étoiles sélectionnées
            let rating = 0;
            document.querySelectorAll('#add-rating i').forEach((star, index) => {
                if (star.classList.contains('fas')) {
                    rating = index + 1;
                }
            });
            
            // Validation
            if (!name || !url || !category || !description || advantages.length === 0 || disadvantages.length === 0 || rating === 0) {
                alert('Veuillez remplir tous les champs obligatoires');
                return;
            }
            
            // Créer un nouvel ID unique
            const newId = Math.max(...sitesData.map(s => s.id), 0) + 1;
            
            // Créer le nouvel objet site
            const newSite = {
                id: newId,
                name: name,
                url: url,
                logo: logo || '',
                category: category,
                description: description,
                advantages: advantages,
                disadvantages: disadvantages,
                rating: rating,
                reliability: 4, // Fiabilité par défaut
                userReviews: []
            };
            
            // Ajouter le nouveau site
            sitesData.push(newSite);
            
            // Sauvegarder dans le localStorage
            saveSitesData();
            
            // Fermer le modal
            document.getElementById('add-modal').classList.remove('active');
            
            // Réinitialiser le formulaire
            document.getElementById('site-name').value = '';
            document.getElementById('site-url').value = '';
            document.getElementById('site-logo').value = '';
            document.getElementById('site-category').value = '';
            document.getElementById('site-description').value = '';
            document.getElementById('site-advantages').value = '';
            document.getElementById('site-disadvantages').value = '';
            
            // Mettre à jour l'affichage
            currentCategory = "Tous les sites";
            currentPage = 1;
            displayCategories();
            displayResults();
            displayPagination();
            
            // Afficher un message de succès
            alert(`Le site "${name}" a été ajouté avec succès !`);
        }

        // Fonction de recherche
        function searchSites() {
            const query = document.getElementById('search-input').value.toLowerCase();
            currentSearch = query;
            currentPage = 1;
            displayResults();
            displayPagination();
        }

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            // Afficher les catégories
            displayCategories();
            
            // Afficher les résultats
            displayResults();
            
            // Afficher la pagination
            displayPagination();
            
            // Mettre à jour les statistiques
            updateStats();
            
            // Recherche par bouton
            document.getElementById('search-btn').addEventListener('click', searchSites);
            
            // Recherche par Entrée
            document.getElementById('search-input').addEventListener('keyup', function(e) {
                if (e.key === 'Enter') {
                    searchSites();
                }
            });
            
            // Fermer le modal de détails
            document.getElementById('close-detail-modal').addEventListener('click', function() {
                document.getElementById('detail-modal').classList.remove('active');
            });
            
            // Bouton pour ajouter un site
            document.getElementById('add-site-btn').addEventListener('click', showAddSiteModal);
            
            // Fermer le modal d'ajout
            document.getElementById('close-add-modal').addEventListener('click', function() {
                document.getElementById('add-modal').classList.remove('active');
            });
            
            // Soumission du formulaire d'ajout
            document.getElementById('submit-site').addEventListener('click', addNewSite);
            
            // Gestion des étoiles de notation (ajout de site)
            document.querySelectorAll('#add-rating i').forEach(star => {
                star.addEventListener('click', function() {
                    const rating = parseInt(this.getAttribute('data-rating'));
                    const stars = document.querySelectorAll('#add-rating i');
                    
                    stars.forEach((s, index) => {
                        if (index < rating) {
                            s.className = 'fas fa-star';
                        } else {
                            s.className = 'far fa-star';
                        }
                    });
                });
            });
        });
    </script>
</body>
</html>